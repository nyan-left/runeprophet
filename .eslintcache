[{"/Users/deim/rs-prophet/src/index.tsx":"1","/Users/deim/rs-prophet/src/reportWebVitals.ts":"2","/Users/deim/rs-prophet/src/App.tsx":"3","/Users/deim/rs-prophet/src/store/list.ts":"4","/Users/deim/rs-prophet/src/store/search.ts":"5","/Users/deim/rs-prophet/src/components/item/ItemDetails.tsx":"6","/Users/deim/rs-prophet/src/components/search/SearchResultList.tsx":"7","/Users/deim/rs-prophet/src/components/search/SearchInputForm.tsx":"8","/Users/deim/rs-prophet/src/components/item/chart/StockChart.tsx":"9"},{"size":609,"mtime":1607955357949,"results":"10","hashOfConfig":"11"},{"size":436,"mtime":1607842009545,"results":"12","hashOfConfig":"11"},{"size":407,"mtime":1607956342523,"results":"13","hashOfConfig":"11"},{"size":170734,"mtime":1607925784208,"results":"14","hashOfConfig":"11"},{"size":564,"mtime":1607961182379,"results":"15","hashOfConfig":"11"},{"size":1420,"mtime":1608421267749,"results":"16","hashOfConfig":"11"},{"size":4375,"mtime":1608342641248,"results":"17","hashOfConfig":"11"},{"size":1230,"mtime":1608342690502,"results":"18","hashOfConfig":"11"},{"size":2280,"mtime":1608422283995,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1ag1e7g",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/deim/rs-prophet/src/index.tsx",[],["40","41","42","43","44","45"],"/Users/deim/rs-prophet/src/reportWebVitals.ts",[],"/Users/deim/rs-prophet/src/App.tsx",[],"/Users/deim/rs-prophet/src/store/list.ts",[],"/Users/deim/rs-prophet/src/store/search.ts",[],"/Users/deim/rs-prophet/src/components/item/ItemDetails.tsx",[],"/Users/deim/rs-prophet/src/components/search/SearchResultList.tsx",["46"],"/* eslint-disable max-len */\n/* eslint-disable no-unused-vars */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/no-children-prop */\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from 'react-router-dom';\nimport * as OSRS from 'osrs-trade-stats';\nimport fuzzySearch from '../../store/search';\nimport Item from '../item/ItemDetails';\nimport SearchInputForm from './SearchInputForm';\n\ntype Await<T> = T extends {\n    then(onfulfilled?: (value: infer U) => unknown): unknown;\n} ? U : T;\n\ntype ItemDetails = Await<ReturnType<typeof OSRS.getFromOfficialAPI>>;\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 100,\n  },\n});\nfunction DataLoader(props : {itemsList : { id: number; name: string; }[]}) : any {\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState<ItemDetails[]>([]);\n  const { itemsList } = props;\n\n  useEffect(() => {\n    let didCancel = false;\n    async function fetchData() {\n      !didCancel && setIsLoading(true);\n      try {\n        // eslint-disable-next-line no-return-await\n        itemsList.map((itemID) => console.log(itemID));\n        const response = await Promise.all(itemsList.map((item) => OSRS.getFromOfficialAPI(item.id)));\n\n        //   await itemIDs.map(OSRS.getFromOfficialAPI);\n        !didCancel && setData(response);\n      } catch (error) {\n        // Do something with error\n      } finally {\n        !didCancel && setIsLoading(false);\n      }\n    }\n    fetchData();\n    return () => { didCancel = true; };\n  }, [props.itemsList]);\n\n  if (isLoading) {\n    return (\n      <tr>\n        <td>Loading</td>\n        <td>Loading</td>\n        <td>Loading</td>\n      </tr>\n    );\n  }\n  return (\n    data.map((item, i) => (\n      <TableRow key={item?.name}>\n        <TableCell align=\"right\"><img src={item?.icon} alt={`icon of ${item?.name}`} /></TableCell>\n        <TableCell>\n          <Link\n            onClick={() => {\n            // not reacty at all. TODO - Solve via props/conditional rendering\n              const resultsTable = document.getElementById('searchResultsTable') || document.createElement('div');\n              resultsTable.style.display = 'none';\n              const itemPage = document.getElementById('itemPage') || document.createElement('div');\n              itemPage.style.display = 'inline';\n            }}\n            to={`/item/${item?.id}`}\n          >\n            {item?.name}\n          </Link>\n        </TableCell>\n        <TableCell align=\"left\">{item?.current.price}</TableCell>\n      </TableRow>\n    ))\n  );\n}\n\nconst SearchResultList = () => {\n  const [filteredItems, setFilteredItems] = useState<{ id: number; name: string; }[]>([]);\n  const handleSearchText = (text: string) => {\n    const searchResult = fuzzySearch(text);\n    setFilteredItems(searchResult);\n  };\n  const classes = useStyles();\n\n  const ResultsDiv = (\n    <div>\n      <Router>\n        <TableContainer id=\"searchResultsTable\" component={Paper} style={{ display: 'inline' }}>\n          <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell />\n                <TableCell>Name</TableCell>\n                <TableCell align=\"left\">Price</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody style={{ width: '100%' }}>\n              <DataLoader itemsList={filteredItems} />\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n        <Switch>\n          <Route path=\"/item/:id\" children={<Item />} />\n        </Switch>\n      </Router>\n    </div>\n  );\n\n  return (\n    <div className=\"App\">\n      <SearchInputForm onSearch={(text) => handleSearchText(text)} />\n      <Paper elevation={3}>\n        {ResultsDiv}\n      </Paper>\n    </div>\n  );\n};\n\nexport default SearchResultList;\n","/Users/deim/rs-prophet/src/components/search/SearchInputForm.tsx",[],"/Users/deim/rs-prophet/src/components/item/chart/StockChart.tsx",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":50,"column":35,"nodeType":"61","messageId":"62","endLine":50,"endColumn":46},"lines-around-directive",["63"],"no-spaced-func",["64"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"no-console","Unexpected console statement.","MemberExpression","unexpected","padding-line-between-statements","func-call-spacing"]